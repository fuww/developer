{"id":"developer-160","title":"Migrate about site to use shared plugin","description":"## What\nMigrate the about site to consume the shared plugin instead of local copies.\n\n## Acceptance Criteria\n- [ ] `bun add @fashionunited/starlight-plugin-theme` added to dependencies\n- [ ] astro.config.mjs: add fashionunitedTheme() to starlight plugins array\n- [ ] Remove local files now provided by plugin: utils.ts, constants.ts, button.tsx, card.tsx, PageTitle.astro\n- [ ] Keep Head.astro override (has PostHog, OG images, service worker — extends plugin's base)\n- [ ] Replace shared portions of tailwind.config.mjs with preset import\n- [ ] Split src/tailwind.css: shared base removed (from plugin), prompt system CSS stays local\n- [ ] Keep site-specific: PageSidebar.astro, NavLink.astro, PostHog.astro, tools system, videos system, ApplicationButtons.tsx, middleware (CSP)\n- [ ] `bun dev` starts without errors\n- [ ] `bun run build` succeeds\n- [ ] `bun test:e2e` passes\n- [ ] Visual regression check: all pages look identical before/after","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-26T19:34:53.303830388Z","created_by":"joost","updated_at":"2026-02-26T20:39:24.542777506Z","closed_at":"2026-02-26T20:39:24.542709133Z","close_reason":"About site migrated to shared plugin. Build passes, all 412 unit tests pass. Commit bb258f14 on shared-theme-plugin branch pushed to origin.","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase-3"],"dependencies":[{"issue_id":"developer-160","depends_on_id":"developer-3gr","type":"parent-child","created_at":"2026-02-26T20:03:20.705838598Z","created_by":"joost"},{"issue_id":"developer-160","depends_on_id":"developer-49h","type":"blocks","created_at":"2026-02-26T19:57:53.657850562Z","created_by":"joost"}]}
{"id":"developer-17h","title":"Fix button.tsx regression in about (restore Slot/asChild support)","description":"## What\nFix the button.tsx regression in about where Slot/asChild support was removed.\n\n## Acceptance Criteria\n- [ ] about's button.tsx uses the shared plugin version (which has proper @radix-ui/react-slot support)\n- [ ] `asChild` prop works correctly in about's usage of Button component\n- [ ] No more commented-out Slot import or hardcoded <button> tag\n- [ ] All existing button usages in about still work (check ApplicationButtons.tsx and other consumers)\n\n## Notes\n- This should be a natural consequence of migrating to the shared plugin (developer-160)\n- The shared plugin ships developer's button.tsx which has correct Slot support\n- Verify no about-specific button variants were lost in the migration","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-26T19:34:54.325834684Z","created_by":"joost","updated_at":"2026-02-26T20:39:25.951117666Z","closed_at":"2026-02-26T20:39:25.951061181Z","close_reason":"Resolved by migration to shared plugin (developer-160). About's local button.tsx (which had Slot/asChild regression) is deleted and replaced by plugin's button.tsx with proper @radix-ui/react-slot support.","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase-4"],"dependencies":[{"issue_id":"developer-17h","depends_on_id":"developer-160","type":"blocks","created_at":"2026-02-26T19:57:53.772893666Z","created_by":"joost"},{"issue_id":"developer-17h","depends_on_id":"developer-3gr","type":"parent-child","created_at":"2026-02-26T20:03:20.807654251Z","created_by":"joost"}]}
{"id":"developer-1jy","title":"Implement Starlight plugin entry point (index.ts) with CSS/component injection","description":"## What\nImplement the Starlight plugin entry point that injects all shared CSS, components, and font imports.\n\n## Acceptance Criteria\n- [ ] `index.ts` exports a StarlightPlugin factory function\n- [ ] Plugin name: 'fashionunited-theme'\n- [ ] Uses setup hook with updateConfig to inject:\n  - customCss: base.css, globals.css, font CSS (@fontsource/ibm-plex-mono 400+600, @fontsource-variable/inter, @fontsource-variable/lora)\n  - components: Head.astro, PageTitle.astro (consumer overrides win via spread)\n- [ ] Consumer CSS appended after plugin CSS (so site-specific overrides work)\n- [ ] Consumer component overrides take precedence (spread config.components after plugin defaults)\n- [ ] TypeScript types exported for plugin options (if any)\n- [ ] Plugin works when added to starlight({ plugins: [fashionunitedTheme()] })\n- [ ] @fontsource packages added as dependencies in plugin's package.json (@fontsource/ibm-plex-mono, @fontsource-variable/inter, @fontsource-variable/lora)\n\n## Reference\nSee docs/PLAN_shared-starlight-theme.md Option B for the plugin API pattern.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-26T19:34:48.534122026Z","created_by":"joost","updated_at":"2026-02-26T20:23:30.168744480Z","closed_at":"2026-02-26T20:23:30.168711240Z","close_reason":"Plugin entry point index.ts implemented with fashionunitedTheme() factory. Injects customCss (base, globals, fonts) and components (Head, PageTitle). Consumer CSS/components appended after for override support","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase-1"],"dependencies":[{"issue_id":"developer-1jy","depends_on_id":"developer-2g3","type":"blocks","created_at":"2026-02-26T19:57:51.004914198Z","created_by":"joost"},{"issue_id":"developer-1jy","depends_on_id":"developer-2m0","type":"blocks","created_at":"2026-02-26T19:57:51.102852064Z","created_by":"joost"},{"issue_id":"developer-1jy","depends_on_id":"developer-3gr","type":"parent-child","created_at":"2026-02-26T20:03:20.407386780Z","created_by":"joost"},{"issue_id":"developer-1jy","depends_on_id":"developer-3se","type":"blocks","created_at":"2026-02-26T19:57:50.812253196Z","created_by":"joost"},{"issue_id":"developer-1jy","depends_on_id":"developer-9q2","type":"blocks","created_at":"2026-02-26T19:57:50.909761629Z","created_by":"joost"},{"issue_id":"developer-1jy","depends_on_id":"developer-uik","type":"blocks","created_at":"2026-02-26T19:57:50.716093417Z","created_by":"joost"}]}
{"id":"developer-1zd","title":"Decide: private (GitHub Packages) vs public npm for plugin","description":"## What\nDecide whether to publish @fashionunited/starlight-plugin-theme as a private package (GitHub Packages with org scope) or public on npm.\n\n## Options\n1. **GitHub Packages (private)**: Simplest if only FashionUnited repos use it. Requires GitHub auth for installs. Free for private repos in the org.\n2. **Public npm**: Standard npm registry. Anyone can install. Good for open-source portfolio. No auth needed.\n3. **npm with org scope (private)**: Requires npm org plan ($7/user/month). More standard tooling than GitHub Packages.\n\n## Considerations\n- Is there value in making this open-source? (portfolio, community contribution)\n- How many repos/developers need access?\n- CI/CD auth complexity for private packages\n- Both developer and about deploy via GitHub Actions/Cloud Build — GitHub Packages auth is straightforward there\n\n## Decision format\nUpdate this bead with the chosen option and rationale, then close it.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-26T19:34:56.243808164Z","created_by":"joost","updated_at":"2026-02-26T20:20:59.967136473Z","closed_at":"2026-02-26T20:20:59.967073809Z","close_reason":"Decision: Public npm. No auth complexity for CI/CD. Standard tooling. Good for portfolio.","source_repo":".","compaction_level":0,"original_size":0,"labels":["decision"],"dependencies":[{"issue_id":"developer-1zd","depends_on_id":"developer-3gr","type":"parent-child","created_at":"2026-02-26T20:03:19.593014602Z","created_by":"joost"}]}
{"id":"developer-21l","title":"Decide: Tailwind 4 migration timing relative to plugin extraction","description":"## What\nDecide whether to migrate to Tailwind 4 before, during, or after the plugin extraction.\n\n## Options\n1. **Before extraction**: Migrate both repos to Tailwind 4 first, then extract the Tailwind 4 config. Avoids migrating the preset twice.\n2. **During extraction**: Extract with Tailwind 3, but design the preset to be Tailwind 4-ready. Migrate later.\n3. **After extraction**: Extract with Tailwind 3. Migrate the shared preset to Tailwind 4 later (one migration, all consumers benefit).\n\n## Considerations\n- Tailwind 4 uses CSS-first configuration instead of JS config files\n- Both repos currently use Tailwind 3 with @astrojs/starlight-tailwind plugin\n- Starlight's Tailwind integration may not yet fully support Tailwind 4\n- Option 3 (after) is safest — extract what works now, upgrade later as one change\n\n## Decision format\nUpdate this bead with the chosen option and rationale, then close it.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-26T19:34:57.154617698Z","created_by":"joost","updated_at":"2026-02-26T20:21:00.856285427Z","closed_at":"2026-02-26T20:21:00.856176904Z","close_reason":"Decision: After extraction (Option 3). Extract with Tailwind 3 first. Upgrade preset once later — all consumers benefit.","source_repo":".","compaction_level":0,"original_size":0,"labels":["decision"],"dependencies":[{"issue_id":"developer-21l","depends_on_id":"developer-3gr","type":"parent-child","created_at":"2026-02-26T20:03:19.698744236Z","created_by":"joost"}]}
{"id":"developer-2ai","title":"Update remaining packages (sharp, starlight-theme-next, framer-motion)","description":"## What\n\nUpdate the remaining miscellaneous packages:\n\n| Package | Current (developer) | Target (about) | Notes |\n|---------|-------------------|----------------|-------|\n| sharp | ^0.34.4 | ^0.34.5 | Patch: image processing bug fixes |\n| starlight-theme-next | ^0.3.2 | ^0.3.3 | Patch: theme refinements |\n| framer-motion | ^12.23.24 | latest | Check latest; about doesn't use it |\n\n## Context\n\n**sharp**: Used for image optimization in the Astro build pipeline and at runtime (the Dockerfile installs vips-dev specifically for Sharp). Patch update fixes edge cases in image resizing.\n\n**starlight-theme-next**: A Starlight theme plugin that provides design refinements. This is configured in astro.config.mjs as a Starlight plugin.\n\n**framer-motion**: Used only in the developer repo (not in about) for the Vortex animation component (src/components/ui/vortex.tsx) and the registration page. Since the about repo doesn't use it, check for the latest version independently rather than matching about. The ^12.23.24 range will auto-resolve to latest 12.x, so this may not need an explicit bump — just verify.\n\n## Implementation\n\nEdit package.json — update version strings. For framer-motion, check if ^12.23.24 already resolves to a newer version via bun install (it likely does since it's a caret range covering the entire 12.x line).\n\n## Risk\n\nVERY LOW — All patch updates.\n\n## Files\n\n- package.json (dependencies section)","status":"closed","priority":3,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:56:44.503760467Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T12:21:26.744885661Z","closed_at":"2026-02-18T12:21:26.744885661Z","close_reason":"Updated all dependency versions to match about repo","source_repo":".","compaction_level":0,"dependencies":[{"issue_id":"developer-2ai","depends_on_id":"developer-8lb","type":"parent-child","created_at":"2026-02-18T11:58:53.331381857Z","created_by":"Joost van der Laan","metadata":"","thread_id":""}]}
{"id":"developer-2ew","title":"Set up npm authentication for @fashionunited scope","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-26T20:40:41.589562230Z","created_by":"joost","updated_at":"2026-02-26T20:47:55.333986412Z","closed_at":"2026-02-26T20:47:55.333913963Z","close_reason":"Set up npm auth: added .npmrc for @fashionunited scope, publishConfig in plugin package.json, GitHub Actions publish workflow (triggers on v* tags), Dockerfile updated to copy .npmrc, PROMPT_build.md restored epic filtering","source_repo":".","compaction_level":0,"original_size":0,"labels":["blocker"]}
{"id":"developer-2g3","title":"Move shared Starlight overrides (PageTitle.astro, Head.astro base) into plugin","description":"## What\nMove shared Starlight component overrides into the plugin package.\n\n## Acceptance Criteria\n- [ ] `components/starlight/PageTitle.astro` — copy-page dropdown with clipboard and view-as-markdown features\n- [ ] `components/starlight/Head.astro` — base Head with vtbot page transitions and LoadingIndicator\n- [ ] Head.astro extensibility approach follows decision developer-2nc\n- [ ] PAGE_TITLE_ID constant referenced correctly from plugin's constants.ts\n- [ ] Astro components distributed as source files (not compiled)\n- [ ] Components use Starlight CSS custom properties (--sl-* variables)\n- [ ] astro-vtbot added as dependency (or peerDependency) in plugin's package.json\n\n## Notes\n- Head.astro base should NOT include site-specific scripts (PostHog, OG images, service worker)\n- PageTitle.astro is nearly identical between developer and about (about has 2 extra comment lines)\n- Decision developer-2nc determines if Head.astro uses slots for extensibility","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-26T19:34:48.003373714Z","created_by":"joost","updated_at":"2026-02-26T20:23:28.258979432Z","closed_at":"2026-02-26T20:23:28.258951030Z","close_reason":"Starlight overrides moved: Head.astro (vtbot + LoadingIndicator), PageTitle.astro (copy-page dropdown). Full site override pattern per decision developer-2nc","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase-1"],"dependencies":[{"issue_id":"developer-2g3","depends_on_id":"developer-2nc","type":"blocks","created_at":"2026-02-26T19:57:49.249493847Z","created_by":"joost"},{"issue_id":"developer-2g3","depends_on_id":"developer-2y4","type":"blocks","created_at":"2026-02-26T19:57:48.201495730Z","created_by":"joost"},{"issue_id":"developer-2g3","depends_on_id":"developer-3gr","type":"parent-child","created_at":"2026-02-26T20:03:20.303980751Z","created_by":"joost"}]}
{"id":"developer-2ly","title":"Publish plugin to npm or GitHub Packages","description":"## What\nPublish the completed plugin package to npm or GitHub Packages.\n\n## Acceptance Criteria\n- [ ] Package published and installable via `bun add @fashionunited/starlight-plugin-theme`\n- [ ] Version: 0.1.0 (initial release)\n- [ ] All exports work: default plugin function, tailwind-preset, UI components, utils\n- [ ] package.json exports map correctly resolves all entry points\n- [ ] README has installation and usage instructions\n\n## Notes\n- Registry choice depends on decision developer-1zd (private vs public)\n- May need to set up GitHub Actions or manual publish workflow","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-26T19:34:48.788570569Z","created_by":"joost","updated_at":"2026-02-26T21:04:46.222590284Z","closed_at":"2026-02-26T21:04:46.222524546Z","close_reason":"Published @fuww/starlight-plugin-theme@0.1.0 to GitHub Packages. Package available at npm.pkg.github.com. All exports verified: default plugin, tailwind-preset, UI components, utils. Build passes with 0 errors.","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase-1"],"dependencies":[{"issue_id":"developer-2ly","depends_on_id":"developer-1jy","type":"blocks","created_at":"2026-02-26T19:57:51.873264283Z","created_by":"joost"},{"issue_id":"developer-2ly","depends_on_id":"developer-1zd","type":"blocks","created_at":"2026-02-26T19:57:51.958010923Z","created_by":"joost"},{"issue_id":"developer-2ly","depends_on_id":"developer-3gr","type":"parent-child","created_at":"2026-02-26T20:03:20.497972088Z","created_by":"joost"}]}
{"id":"developer-2m0","title":"Move shared UI components (button.tsx, card.tsx, utils.ts, constants.ts) into plugin","description":"## What\nMove shared UI components from the developer site into the plugin package.\n\n## Acceptance Criteria\n- [ ] `components/ui/button.tsx` — developer's version with Slot/asChild support (not about's regressed version)\n- [ ] `components/ui/card.tsx` — with CardHeader, CardTitle, CardDescription, CardContent, CardFooter\n- [ ] `lib/utils.ts` — the cn() helper (clsx + tailwind-merge)\n- [ ] `components/constants.ts` — PAGE_TITLE_ID constant\n- [ ] All components use cn() from the plugin's own lib/utils.ts\n- [ ] Components export correctly from the package (verify import paths work)\n- [ ] Dependencies added to plugin's package.json: @radix-ui/react-slot, class-variance-authority, clsx, tailwind-merge\n\n## Notes\n- Do NOT move vortex.tsx, input.tsx, label.tsx — these are developer-specific\n- button.tsx should use developer's version (with proper Slot support, not about's regression)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-26T19:34:48.237468045Z","created_by":"joost","updated_at":"2026-02-26T20:23:26.980072242Z","closed_at":"2026-02-26T20:23:26.980009237Z","close_reason":"Shared UI components moved: button.tsx (with Slot/asChild), card.tsx, utils.ts (cn helper), constants.ts (PAGE_TITLE_ID). Import paths use relative ../../lib/utils","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase-1"],"dependencies":[{"issue_id":"developer-2m0","depends_on_id":"developer-2y4","type":"blocks","created_at":"2026-02-26T19:57:48.295278705Z","created_by":"joost"},{"issue_id":"developer-2m0","depends_on_id":"developer-3gr","type":"parent-child","created_at":"2026-02-26T20:03:20.204070826Z","created_by":"joost"}]}
{"id":"developer-2nc","title":"Decide: Head.astro extensibility (slots for scripts vs full site override)","description":"Open question from the plan: should the shared Head.astro component be extensible via slots (so sites can inject PostHog, OG images, etc.) or should each site fully override Head.astro? Slots = less duplication but more complexity. Full override = simpler but some shared logic is duplicated. This must be decided before moving Starlight overrides into the plugin.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-26T19:57:34.210835553Z","created_by":"joost","updated_at":"2026-02-26T20:20:59.112019989Z","closed_at":"2026-02-26T20:20:59.111954821Z","close_reason":"Decision: Full site override, no slots. Developer Head.astro is minimal, about adds PostHog/OG/SW — too complex for slots. Plugin provides base Head.astro that sites replace via Starlight components config.","source_repo":".","compaction_level":0,"original_size":0,"labels":["decision"],"dependencies":[{"issue_id":"developer-2nc","depends_on_id":"developer-3gr","type":"parent-child","created_at":"2026-02-26T20:03:19.484872839Z","created_by":"joost"}]}
{"id":"developer-2y4","title":"Create @fashionunited/starlight-plugin-theme package scaffold","description":"## What\nCreate the npm package scaffold for @fashionunited/starlight-plugin-theme.\n\n## Acceptance Criteria\n- [ ] package.json with name `@fashionunited/starlight-plugin-theme`, appropriate peerDependencies (@astrojs/starlight, astro, tailwindcss), and exports map\n- [ ] Directory structure: `styles/`, `components/starlight/`, `components/ui/`, `lib/`\n- [ ] tsconfig.json for TypeScript support\n- [ ] Empty `index.ts` entry point (placeholder for plugin hook)\n- [ ] README.md with basic usage instructions\n- [ ] .gitignore and .npmignore\n\n## Notes\n- Package location depends on decision developer-ze6\n- See docs/PLAN_shared-starlight-theme.md Option B for the target structure","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-26T19:34:43.634140725Z","created_by":"joost","updated_at":"2026-02-26T20:23:19.521111772Z","closed_at":"2026-02-26T20:23:19.521059574Z","close_reason":"Package scaffold created at /home/joost/code/fuww/starlight-plugin-theme/ with all directories, package.json, tsconfig, exports map, README","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase-1"],"dependencies":[{"issue_id":"developer-2y4","depends_on_id":"developer-3gr","type":"parent-child","created_at":"2026-02-26T20:03:19.799527441Z","created_by":"joost"},{"issue_id":"developer-2y4","depends_on_id":"developer-ze6","type":"blocks","created_at":"2026-02-26T19:57:45.694940718Z","created_by":"joost"}]}
{"id":"developer-302","title":"Add gray.50 and data-theme dark mode selector to shared palette","description":"## What\nAdd missing gray.50 shade and [data-theme=\"dark\"] selector to the shared Tailwind palette.\n\n## Acceptance Criteria\n- [ ] gray.50 added to the shared Tailwind preset color palette\n- [ ] Dark mode selector includes `[data-theme=\"dark\"]` (about has this, developer doesn't)\n- [ ] Both developer and about sites render correctly with the updated palette\n- [ ] No visual regressions in light or dark mode\n\n## Notes\n- about's tailwind config already has gray.50 and [data-theme=\"dark\"] — developer is missing them\n- These additions make the shared preset complete for both consumers","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-26T19:34:55.073565030Z","created_by":"joost","updated_at":"2026-02-26T20:13:18.595555631Z","closed_at":"2026-02-26T20:13:18.595451084Z","close_reason":"Folded into developer-uik: gray.50 and [data-theme=dark] selector now included in shared Tailwind preset acceptance criteria from the start","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase-4"],"dependencies":[{"issue_id":"developer-302","depends_on_id":"developer-3gr","type":"parent-child","created_at":"2026-02-26T20:03:20.903286269Z","created_by":"joost"}]}
{"id":"developer-34v","title":"Run bun install and verify dependency resolution","description":"## What\n\nAfter all package.json version updates are complete (issues developer-t0y, developer-eeb, developer-y3z, developer-jgk, developer-ruf, developer-ke1, developer-2ai), run bun install to resolve and lock all dependencies.\n\n## Why\n\nWe deliberately separate the 'edit package.json' step from the 'install' step so that:\n1. All version changes can be reviewed together before installing\n2. A single bun install resolves everything at once (faster, avoids intermediate broken states)\n3. The lockfile (bun.lock) is updated atomically\n\n## Implementation Steps\n\n1. Run `bun install` in the project root\n2. Verify no peer dependency warnings or conflicts in the output\n3. Check that bun.lock was updated (it should show changes for all bumped packages)\n4. Run `bunx playwright install` to download browser binaries matching Playwright 1.57\n5. Run `astro check` (via `bun run astro check`) to verify TypeScript types still resolve\n6. Run `bun run build` to verify the production build succeeds\n\n## What Could Go Wrong\n\n- **Peer dependency conflicts**: Starlight 0.37 might have stricter peer dep requirements on Astro version. Our Astro version (5.16.13) should satisfy it, but check.\n- **astro-vtbot v2 import resolution**: After moving to devDependencies, verify the component imports in Head.astro still resolve at build time.\n- **starlight-llms-txt v0.6 config**: The rawContent option might have a different API than expected. Verify the build doesn't error on this plugin.\n- **Type errors**: astro check may surface new type issues from updated @types or stricter type exports.\n\n## Success Criteria\n\n- `bun install` completes without errors\n- `astro check` passes (or only has pre-existing warnings)\n- `bun run build` completes successfully\n- No new console warnings about deprecated APIs\n\n## Files\n\n- bun.lock (auto-generated)\n- No source file changes","status":"closed","priority":2,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:56:59.863911531Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T12:23:14.637957660Z","closed_at":"2026-02-18T12:23:14.637957660Z","close_reason":"bun install, astro check, and bun run build all pass successfully. No peer dependency conflicts.","source_repo":".","compaction_level":0,"dependencies":[{"issue_id":"developer-34v","depends_on_id":"developer-2ai","type":"blocks","created_at":"2026-02-18T11:58:46.546487286Z","created_by":"Joost van der Laan","metadata":"","thread_id":""},{"issue_id":"developer-34v","depends_on_id":"developer-8lb","type":"parent-child","created_at":"2026-02-18T11:58:53.468539784Z","created_by":"Joost van der Laan","metadata":"","thread_id":""},{"issue_id":"developer-34v","depends_on_id":"developer-eeb","type":"blocks","created_at":"2026-02-18T11:58:45.856247887Z","created_by":"Joost van der Laan","metadata":"","thread_id":""},{"issue_id":"developer-34v","depends_on_id":"developer-jgk","type":"blocks","created_at":"2026-02-18T11:58:46.132889019Z","created_by":"Joost van der Laan","metadata":"","thread_id":""},{"issue_id":"developer-34v","depends_on_id":"developer-ke1","type":"blocks","created_at":"2026-02-18T11:58:46.409528959Z","created_by":"Joost van der Laan","metadata":"","thread_id":""},{"issue_id":"developer-34v","depends_on_id":"developer-ruf","type":"blocks","created_at":"2026-02-18T11:58:46.272155188Z","created_by":"Joost van der Laan","metadata":"","thread_id":""},{"issue_id":"developer-34v","depends_on_id":"developer-t0y","type":"blocks","created_at":"2026-02-18T11:58:45.717876720Z","created_by":"Joost van der Laan","metadata":"","thread_id":""},{"issue_id":"developer-34v","depends_on_id":"developer-y3z","type":"blocks","created_at":"2026-02-18T11:58:45.995173335Z","created_by":"Joost van der Laan","metadata":"","thread_id":""}],"comments":[{"id":10,"issue_id":"developer-34v","author":"Joost van der Laan","text":"## Cross-References\n- Parent epic: developer-8lb\n- Depends on: developer-t0y, developer-eeb, developer-y3z, developer-jgk, developer-ruf, developer-ke1, developer-2ai (all version updates)\n- Blocks: developer-dx8 (final verification)\n\n## Why This is a Separate Issue from the Individual Updates\nSeparating 'edit package.json' from 'bun install' lets us:\n1. Make all version changes atomically reviewable before installing\n2. Catch conflicts before they cause npm/bun resolution errors\n3. Have a single 'checkpoint' where we verify the dependency tree resolves\n4. Roll back cleanly if resolution fails (just revert package.json, re-run bun install)\n\n## Potential Issues to Watch\n- bun.lock may have merge conflicts if the main branch gets other dependency changes\n- Sharp 0.34.5 may need native rebuilds (vips-dev) — this is handled by the Dockerfile but could fail on local machines without vips installed\n- Playwright 1.57 browsers take ~200MB to download — ensure adequate disk space","created_at":"2026-02-18T12:00:24Z"}]}
{"id":"developer-3gr","title":"Shared Starlight Theme Plugin","description":"Deduplicate the developer and about repos by extracting shared Starlight theming into @fashionunited/starlight-plugin-theme. See docs/PLAN_shared-starlight-theme.md for the full plan. Phases: 1) Extract shared code into plugin package, 2) Migrate developer site, 3) Migrate about site, 4) Reconcile drift.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-02-26T20:03:10.634346201Z","created_by":"joost","updated_at":"2026-02-26T20:03:10.634346201Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"developer-3se","title":"Extract shared base CSS (dark mode fix, gradients, sidebar active state)","description":"## What\nExtract shared base CSS from developer's custom.css and about's tailwind.css into the plugin's styles/base.css.\n\n## Acceptance Criteria\n- [ ] `styles/base.css` contains the shared ~55 lines of base theme CSS\n- [ ] Dark mode fix: `:root[data-theme=\"dark\"]` overrides for --sl-color-bg, --sl-color-bg-nav, --sl-color-bg-sidebar\n- [ ] Hero h1 gradient text effect (135deg blue gradient)\n- [ ] Site title gradient text effect (90deg blue gradient)\n- [ ] Primary button gradient backgrounds and hover states\n- [ ] Sidebar active state gradient (light mode: light blue, dark mode: dark blue)\n- [ ] Only shared rules — no site-specific CSS\n- [ ] Importable as CSS by the Starlight plugin\n\n## Source files\n- developer: src/styles/custom.css (47 lines)\n- about: src/tailwind.css (first ~54 lines)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-26T19:34:46.691460995Z","created_by":"joost","updated_at":"2026-02-26T20:23:20.588106314Z","closed_at":"2026-02-26T20:23:20.588017901Z","close_reason":"Shared base CSS extracted to styles/base.css — dark mode fix, hero gradient, site-title gradient, button gradients, sidebar active state","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase-1"],"dependencies":[{"issue_id":"developer-3se","depends_on_id":"developer-2y4","type":"blocks","created_at":"2026-02-26T19:57:48.014912185Z","created_by":"joost"},{"issue_id":"developer-3se","depends_on_id":"developer-3gr","type":"parent-child","created_at":"2026-02-26T20:03:20.002541622Z","created_by":"joost"}]}
{"id":"developer-3zq","title":"Verify build and test copy-to-markdown feature","description":"End-to-end verification of all changes:\n\n1. Run bun run build - ensure no type errors or build failures after dependency updates\n2. Run bun dev and manually verify:\n   - Copy Page dropdown appears on documentation pages\n   - 'Copy page' copies markdown content to clipboard\n   - 'View as Markdown' opens raw markdown in new tab\n   - Dropdown closes on outside click\n   - Responsive behavior on mobile viewport\n3. Run bun test:e2e - ensure existing Playwright tests still pass\n4. Consider adding a Playwright test for the copy-to-markdown feature\n\nDependencies:\n- Requires all other issues to be completed first (developer-gb0, developer-al1, developer-xaj, developer-ebq, developer-5a3)","status":"tombstone","priority":2,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:27:59.774706551Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T11:54:30.461969463Z","source_repo":".","deleted_at":"2026-02-18T11:54:30.461969463Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task","compaction_level":0}
{"id":"developer-49h","title":"Migrate developer site to use shared plugin","description":"## What\nMigrate the developer site to consume the shared plugin instead of local copies.\n\n## Acceptance Criteria\n- [ ] `bun add @fashionunited/starlight-plugin-theme` added to dependencies\n- [ ] astro.config.mjs: add fashionunitedTheme() to starlight plugins array\n- [ ] Remove local files now provided by plugin: utils.ts, constants.ts, button.tsx, card.tsx, PageTitle.astro\n- [ ] Keep Head.astro override ONLY if site-specific additions needed (currently not needed)\n- [ ] Replace tailwind.config.mjs with preset import + site-specific overrides only\n- [ ] Remove or reduce custom.css to site-specific rules only\n- [ ] Remove globals.css (now provided by plugin)\n- [ ] Keep site-specific: vortex.tsx, input.tsx, label.tsx, register page, Plausible config\n- [ ] `bun dev` starts without errors\n- [ ] `bun run build` succeeds\n- [ ] `bun test:e2e` passes\n- [ ] Visual regression check: homepage and docs pages look identical before/after","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-26T19:34:52.598945861Z","created_by":"joost","updated_at":"2026-02-26T20:28:03.508127537Z","closed_at":"2026-02-26T20:28:03.508067047Z","close_reason":"Developer site migrated to shared plugin. Build passes (0 errors). Removed 727 lines of duplicated code.","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase-2"],"dependencies":[{"issue_id":"developer-49h","depends_on_id":"developer-2ly","type":"blocks","created_at":"2026-02-26T19:57:53.552118283Z","created_by":"joost"},{"issue_id":"developer-49h","depends_on_id":"developer-3gr","type":"parent-child","created_at":"2026-02-26T20:03:20.602592619Z","created_by":"joost"}]}
{"id":"developer-5a3","title":"Register PageTitle component override in astro.config.mjs","description":"Update astro.config.mjs to register the custom PageTitle component in Starlight's components configuration.\n\nAdd to the starlight() config's components object:\n  PageTitle: './src/components/starlight/PageTitle.astro'\n\nCurrently only Head is overridden. After this change, both Head and PageTitle will be custom.\n\nDependencies:\n- Requires PageTitle.astro component (developer-ebq)","status":"tombstone","priority":2,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:27:51.443099372Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T11:54:30.329026759Z","source_repo":".","deleted_at":"2026-02-18T11:54:30.329026759Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task","compaction_level":0}
{"id":"developer-8lb","title":"EPIC: Align Developer Portal with About Repo — Dependency Updates & Copy-to-Markdown","description":"## Overview\n\nThis epic brings the FashionUnited Developer Portal (/home/joost/fuww/developer) into alignment with the About/Handbook site (/home/joost/fuww/about) in two key areas:\n\n1. **Dependency updates**: The developer repo has fallen behind the about repo on ~20+ shared dependencies. The about repo completed a major upgrade in commit a4299053 (Jan 23, 2026). We need to match those versions to stay on the same Astro/Starlight ecosystem baseline across all FashionUnited properties.\n\n2. **Copy-to-Markdown feature**: The about repo added a 'Copy page' dropdown button on every documentation page (commit 30150cb0, Oct 20, 2025, bug-fixed in 599e8cf7 Feb 13, 2026). This lets users copy entire page content as Markdown (useful for LLMs, sharing, offline reference) or view the raw Markdown in a new tab. This feature should be consistent across all FashionUnited documentation sites.\n\n## Why This Matters\n\n- **Ecosystem consistency**: All FashionUnited Astro/Starlight sites should run on the same dependency baseline. Drift creates maintenance burden and makes porting features harder.\n- **Developer experience**: The copy-to-markdown feature is particularly valuable for a *developer* portal — developers frequently need to share API docs, paste into LLM contexts, or reference documentation in issues/PRs.\n- **LLM-friendly content**: Combined with the starlight-llms-txt plugin upgrade (0.2→0.6), this makes the developer docs fully LLM-accessible at page level (copy button) and site level (llms.txt).\n\n## Scope\n\n### In scope:\n- All dependency version updates to match about repo\n- astro-vtbot v1→v2 migration (dependency type change + config)\n- starlight-llms-txt 0.2→0.6 migration (add rawContent option)\n- PageTitle component with Copy Page dropdown\n- Markdown API endpoint ([...slug].md.ts)\n- Astro config registration of new component\n- Build verification and E2E test pass\n\n### Out of scope (noted for future work):\n- Security middleware & CSP headers (about has middleware.ts; developer does not)\n- StructuredData.astro for JSON-LD schemas\n- SkipLink.astro for keyboard accessibility\n- LastUpdated.astro freshness badges\n- PageSidebar.astro maintainers card\n- Vitest unit testing infrastructure\n- Multi-browser Playwright expansion\n- Content schema extensions (maintainers, needsReview, tokens)\n- PostHog analytics integration\n\n## Reference\n\n- About repo: /home/joost/fuww/about\n- About repo upgrade commit: a4299053 (Jan 23, 2026)\n- About repo PageTitle commit: 30150cb0 (Oct 20, 2025)\n- About repo copy button fix: 599e8cf7 (Feb 13, 2026)\n- About repo vtbot migration: ce04b8d4","status":"closed","priority":1,"issue_type":"epic","owner":"j@jlnw.nl","created_at":"2026-02-18T11:54:51.489504702Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T12:34:36.451495060Z","closed_at":"2026-02-18T12:34:36.451495060Z","close_reason":"All 13 child issues completed: dependency updates, vtbot migration, llms-txt upgrade, PageTitle component, markdown endpoint, config registration, and full build verification","source_repo":".","compaction_level":0,"comments":[{"id":1,"issue_id":"developer-8lb","author":"Joost van der Laan","text":"## Architectural Context\n\nThe FashionUnited ecosystem has multiple Astro/Starlight documentation sites:\n- **about** (handbook): /home/joost/fuww/about — internal handbook, HR docs, AI prompts library\n- **developer** (this repo): /home/joost/fuww/developer — developer portal, API docs, integration guides\n\nBoth sites share the same tech stack (Astro + Starlight + Tailwind + React/shadcn) and should maintain feature parity on shared infrastructure features like copy-to-markdown, LLM-friendly content generation, and dependency baselines.\n\nThe about repo is generally the 'lead' repo where new features are prototyped and proven before being ported to other properties. This epic ports proven features from about to developer.","created_at":"2026-02-18T11:59:16Z"},{"id":2,"issue_id":"developer-8lb","author":"Joost van der Laan","text":"## Execution Order\n\nThe work naturally splits into two independent streams that converge at the end:\n\n**Stream A: Dependency Updates** (can be done in any order within the stream)\n1. developer-t0y: Astro core ecosystem\n2. developer-eeb: astro-vtbot v1→v2\n3. developer-y3z: starlight-llms-txt 0.2→0.6\n4. developer-jgk: UI libraries\n5. developer-ruf: Fonts\n6. developer-ke1: Dev dependencies\n7. developer-2ai: Remaining packages\n→ developer-34v: bun install + verify resolution\n\n**Stream B: Copy-to-Markdown Feature** (sequential, due to file dependencies)\n1. developer-q74: constants.ts\n2. developer-9tb: Markdown API endpoint\n→ developer-exi: PageTitle component (depends on both above)\n→ developer-ypr: Config registration\n\n**Convergence:**\n→ developer-dx8: Full verification (depends on both streams)\n\nStream A items (1-7) can all be done in parallel since they're all just package.json edits. Stream B items 1 and 2 can be done in parallel. The PageTitle component (Stream B.3) must wait for both Stream B.1 and B.2.","created_at":"2026-02-18T11:59:16Z"},{"id":3,"issue_id":"developer-8lb","author":"Joost van der Laan","text":"## Out-of-Scope Items (Future Epics)\n\nDuring research, we identified several additional features in the about repo that are NOT in this developer repo. These are documented here for future reference but are explicitly out of scope:\n\n1. **Security middleware** (middleware.ts with CSP headers) — HIGH priority for a future epic\n2. **StructuredData.astro** (JSON-LD for SEO) — HIGH priority for a future epic\n3. **SkipLink.astro** (keyboard accessibility) — HIGH priority for a future epic\n4. **LastUpdated.astro** (content freshness badges) — MEDIUM priority\n5. **PageSidebar.astro** (maintainers card) — LOW priority for developer portal\n6. **Vitest unit testing setup** — MEDIUM priority\n7. **Multi-browser Playwright** (currently only Chromium) — MEDIUM priority\n8. **@axe-core/playwright accessibility testing** — HIGH priority\n9. **Content schema extensions** (maintainers, needsReview, ogImage) — LOW priority\n10. **PostHog analytics** — Already has Plausible via Partytown, evaluate need\n\nEach of these should become its own beads issue or epic when prioritized.","created_at":"2026-02-18T11:59:16Z"}]}
{"id":"developer-9q2","title":"Reconcile globals.css HSL drift between developer and about","description":"## What\nReconcile the HSL values in globals.css between developer and about, picking one canonical set.\n\n## Acceptance Criteria\n- [ ] `styles/globals.css` in the plugin contains one canonical set of CSS custom properties\n- [ ] Light mode values: --background, --foreground, --primary, --secondary, etc.\n- [ ] Dark mode values: corresponding dark variants\n- [ ] Both developer and about HSL values compared side-by-side, best values chosen\n- [ ] Known drift: developer has foreground 222.2 47.4% 11.2% vs about's 222.2 84% 4.9%\n- [ ] Dark mode values also reconciled\n\n## Source files\n- developer: src/styles/globals.css (if it exists) or custom.css\n- about: src/styles/globals.css","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-26T19:34:47.810332782Z","created_by":"joost","updated_at":"2026-02-26T20:23:23.261581697Z","closed_at":"2026-02-26T20:23:23.261525663Z","close_reason":"Reconciled globals.css — chose about's HSL values as canonical (more standard shadcn/ui defaults). Key differences resolved: foreground 222.2 84% 4.9%, ring 222.2 84% 4.9%, dark mode uses cleaner shadcn values","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase-1"],"dependencies":[{"issue_id":"developer-9q2","depends_on_id":"developer-2y4","type":"blocks","created_at":"2026-02-26T19:57:48.116399646Z","created_by":"joost"},{"issue_id":"developer-9q2","depends_on_id":"developer-3gr","type":"parent-child","created_at":"2026-02-26T20:03:20.104707862Z","created_by":"joost"}]}
{"id":"developer-9tb","title":"Create [...slug].md.ts markdown API endpoint","description":"## What\n\nCreate a new dynamic API route at `src/pages/[...slug].md.ts` that serves raw markdown content for any documentation page. This endpoint powers the 'Copy page as Markdown' and 'View as Markdown' features in the PageTitle dropdown.\n\n## How It Works\n\nWhen a user clicks 'Copy page' on e.g. `/docs/marketplace/graphql-api/`, the client-side JavaScript fetches `/docs/marketplace/graphql-api.md`. This endpoint:\n\n1. Extracts the slug from the URL params\n2. Looks up the matching entry in the `docs` content collection\n3. Returns the raw markdown body as plain text\n\n## Implementation\n\n```typescript\nimport type { APIRoute } from 'astro';\nimport { getCollection } from 'astro:content';\n\nexport const prerender = false;\n\nexport const GET: APIRoute = async ({ params }) => {\n  const slug = params.slug || '';\n  const docs = await getCollection('docs');\n  const doc = docs.find(entry => entry.slug === slug);\n\n  if (\\!doc) {\n    return new Response('Not found', { status: 404 });\n  }\n\n  return new Response(doc.body, {\n    status: 200,\n    headers: {\n      'Content-Type': 'text/plain; charset=utf-8',\n    },\n  });\n};\n\nexport async function getStaticPaths() {\n  const docs = await getCollection('docs');\n  return docs.map(entry => ({\n    params: { slug: entry.slug },\n  }));\n}\n```\n\n## Technical Notes\n\n### Why prerender = false?\n\nThe developer repo uses `output: 'server'` mode (SSR via Node.js adapter). With `prerender = false`, this endpoint is handled at runtime by the Node server rather than pre-generated at build time. This means:\n- New docs added to the content collection are immediately available\n- No need to rebuild to update markdown endpoints\n- Follows the same pattern as the existing `src/pages/api/auth/signout.ts` endpoint\n\n### Why getStaticPaths() if prerender is false?\n\nAstro requires getStaticPaths for [...slug] routes even in server mode as a fallback mechanism. It's used for type inference and as a hint for which paths exist.\n\n### Content Collection Structure\n\nThe developer repo's docs live in `src/content/docs/` with slugs like:\n- `docs/introduction`\n- `docs/marketplace/graphql-api`\n- `docs/getting-started/login`\n- `posts/new-api-features`\n\nThe [...slug] catch-all pattern handles all nesting levels.\n\n### URL Mapping\n\nThe client-side code strips trailing slashes before appending .md:\n`window.location.pathname.replace(/\\/$/, '') + '.md'`\n\nSo `/docs/marketplace/` → fetch `/docs/marketplace.md` → slug = `docs/marketplace`\n\n## Astro Content API Note\n\n`doc.body` returns the raw markdown source (everything after the frontmatter YAML). It does NOT include the frontmatter itself. This is intentional — the markdown is meant to be the page content for LLM consumption, not the metadata.\n\n## Reference\n\nPorted from: /home/joost/fuww/about/src/pages/[...slug].md.ts\n\n## Files\n\n- src/pages/[...slug].md.ts (NEW)","status":"closed","priority":2,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:57:32.597530674Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T12:30:25.455572729Z","closed_at":"2026-02-18T12:30:25.455572729Z","close_reason":"Created [...slug].md.ts markdown API endpoint and E2E tests. Code reviewed and approved.","source_repo":".","compaction_level":0,"dependencies":[{"issue_id":"developer-9tb","depends_on_id":"developer-8lb","type":"parent-child","created_at":"2026-02-18T11:58:53.752646454Z","created_by":"Joost van der Laan","metadata":"","thread_id":""}],"comments":[{"id":7,"issue_id":"developer-9tb","author":"Joost van der Laan","text":"## Cross-References\n- Parent epic: developer-8lb\n- Blocks: developer-exi (PageTitle component)\n- Parallel with: developer-q74 (constants.ts)\n\n## Design Decisions\n\n### Why a dynamic SSR route vs static pre-rendered?\nThe developer repo runs in SSR mode (output: 'server'). Using prerender=false means the markdown is always fresh — if someone edits a doc and restarts the server, the .md endpoint immediately reflects the change. For a developer portal where docs may be updated frequently (API changes, new endpoints), this freshness guarantee is valuable.\n\n### Why not just use the DOM content?\nWe could have the copy button scrape the rendered HTML and convert it back to markdown. But:\n1. That loses markdown structure (headers, code fences, links)\n2. Conversion is lossy and error-prone\n3. The Content Collection API gives us the EXACT source markdown\n4. Raw markdown is more useful for LLMs than cleaned-up HTML\n\n### Why text/plain instead of text/markdown?\nThe Content-Type header uses text/plain rather than text/markdown because:\n1. text/markdown is not universally recognized by browsers\n2. text/plain causes browsers to display the content directly (useful for 'View as Markdown')\n3. The Clipboard API doesn't care about Content-Type — it writes the text body regardless\n\n### Why getStaticPaths() is included\nEven though prerender=false, Astro's type system expects getStaticPaths for [...slug] routes. It provides TypeScript type inference for the params object and serves as documentation of expected routes.","created_at":"2026-02-18T11:59:58Z"}]}
{"id":"developer-al1","title":"Add constants.ts with PAGE_TITLE_ID","description":"Create src/components/constants.ts exporting PAGE_TITLE_ID = '_top'.\n\nThis is a shared constant used by the PageTitle component. Ported from the about repo (../about/src/components/constants.ts).\n\nFile content:\n- Export const PAGE_TITLE_ID = '_top'\n- Add comment noting this file is imported in both server- and client-side code","status":"tombstone","priority":3,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:27:26.917883142Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T11:54:29.924026509Z","source_repo":".","deleted_at":"2026-02-18T11:54:29.924026509Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task","compaction_level":0}
{"id":"developer-dx8","title":"Verify full build, dev server, and E2E tests pass","description":"## What\n\nFinal verification that all changes work together. This is the gate before committing.\n\n## Verification Checklist\n\n### 1. Build Verification\n- [ ] `bun run build` completes without errors\n- [ ] No new TypeScript errors from `astro check`\n- [ ] Build output size is reasonable (not significantly larger/smaller than before)\n- [ ] /llms.txt, /llms-full.txt, /llms-small.txt are generated correctly\n\n### 2. Dev Server Smoke Test\n- [ ] `bun dev` starts without errors\n- [ ] Homepage loads correctly at http://localhost:4321\n- [ ] Navigate to a documentation page (e.g., /docs/marketplace/graphql-api/)\n- [ ] Page title renders with 'Copy page' dropdown button\n- [ ] Click dropdown — menu appears with two options\n- [ ] Click 'Copy page' — content copies to clipboard (verify by pasting)\n- [ ] Click 'View as Markdown' — raw markdown opens in new tab\n- [ ] Dropdown closes when clicking outside\n- [ ] View transitions still work (navigate between pages, check animations)\n- [ ] LoadingIndicator still appears during navigation\n\n### 3. Responsive Test\n- [ ] At mobile viewport (<768px): button text hidden, only icon visible\n- [ ] Dropdown menu repositions to left-aligned on mobile\n- [ ] Dropdown is usable on touch devices\n\n### 4. Dark Mode Test\n- [ ] Toggle to dark mode\n- [ ] Copy page button uses correct Starlight dark theme colors\n- [ ] Dropdown menu uses correct dark theme colors\n- [ ] No flash of unstyled content during theme toggle\n\n### 5. E2E Tests\n- [ ] `bunx playwright install` (if not done already — needed after Playwright version bump)\n- [ ] `bun test:e2e` passes — existing tests still green\n- [ ] No regressions in page loading, navigation, or content rendering\n\n### 6. Markdown Endpoint Verification\n- [ ] Directly visit /docs/marketplace/graphql-api.md in browser — raw markdown appears\n- [ ] Visit /nonexistent-page.md — returns 404\n- [ ] Markdown contains page content but NOT frontmatter YAML\n\n### 7. LLMs.txt Verification\n- [ ] Visit /llms.txt — structured site index appears\n- [ ] Visit /llms-full.txt — full documentation as raw markdown (rawContent: true)\n- [ ] No React component rendering errors in llms-full.txt output\n\n## If Something Fails\n\n- **Build error on vtbot**: Check that astro-vtbot is in devDependencies and the import was removed from astro.config.mjs\n- **Build error on starlight-llms-txt**: Check that rawContent option syntax is correct\n- **PageTitle not rendering**: Check that astro.config.mjs has the PageTitle component path correct\n- **Markdown endpoint 404**: Check that the [...slug].md.ts file is in src/pages/ and prerender=false\n- **Clipboard not working**: Clipboard API requires HTTPS or localhost — dev server should work\n- **E2E tests fail on browser version**: Run `bunx playwright install` to update browsers\n\n## Files\n\nNo file changes — this is a verification-only issue.","status":"closed","priority":1,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:58:34.731368820Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T12:34:24.993697155Z","closed_at":"2026-02-18T12:34:24.993697155Z","close_reason":"Build passes: 0 errors, 0 warnings, all pages render, PageTitle component active, markdown endpoint live","source_repo":".","compaction_level":0,"dependencies":[{"issue_id":"developer-dx8","depends_on_id":"developer-34v","type":"blocks","created_at":"2026-02-18T11:58:47.130609950Z","created_by":"Joost van der Laan","metadata":"","thread_id":""},{"issue_id":"developer-dx8","depends_on_id":"developer-8lb","type":"parent-child","created_at":"2026-02-18T11:58:54.157537871Z","created_by":"Joost van der Laan","metadata":"","thread_id":""},{"issue_id":"developer-dx8","depends_on_id":"developer-ypr","type":"blocks","created_at":"2026-02-18T11:58:47.287598963Z","created_by":"Joost van der Laan","metadata":"","thread_id":""}],"comments":[{"id":11,"issue_id":"developer-dx8","author":"Joost van der Laan","text":"## Cross-References\n- Parent epic: developer-8lb\n- Depends on: developer-34v (bun install), developer-ypr (config registration)\n- This is the FINAL issue — nothing depends on it\n\n## Definition of Done\nALL items in the verification checklist must pass. If any item fails:\n1. Create a new beads issue for the failure\n2. Add it as a blocker of developer-dx8\n3. Fix the issue\n4. Re-run the full verification\n\n## Commit Strategy\nOnce verification passes, all changes should be committed together as a single atomic commit:\n- Subject: 'Update dependencies and add copy-to-markdown feature'\n- Body should reference this epic (developer-8lb) and list the key changes\n- Include all modified files: package.json, bun.lock, astro.config.mjs, new component files\n\n## Post-Merge Monitoring\nAfter merging to main and deploying:\n- Check Cloud Run logs for any runtime errors\n- Verify /llms.txt and /llms-full.txt are accessible on production\n- Test the copy-to-markdown button on production URL (HTTPS required for Clipboard API)\n- Monitor the Plausible analytics for any spike in 404 errors (would indicate routing issues)","created_at":"2026-02-18T12:00:24Z"}]}
{"id":"developer-ebq","title":"Add PageTitle component with Copy Page dropdown","description":"Create src/components/starlight/PageTitle.astro - a custom Starlight PageTitle override that adds a 'Copy page' dropdown button next to each page title.\n\nPorted from the about repo (../about/src/components/starlight/PageTitle.astro).\n\nFeatures:\n- Renders page title (h1) with id=PAGE_TITLE_ID\n- 'Copy page' dropdown button with two options:\n  1. 'Copy page' - Copies page content as Markdown to clipboard (fetches from .md endpoint)\n  2. 'View as Markdown' - Opens raw markdown in new tab\n- Proper ARIA accessibility (aria-expanded, aria-haspopup, role=menu, role=menuitem)\n- SVG icons for document, eye, and chevron\n- Client-side JavaScript for dropdown toggle, outside-click close, clipboard API\n- 'Copied!' feedback with 2-second timeout\n- Scoped CSS styles matching Starlight design system (uses --sl-color-* variables)\n- Responsive: text hidden on mobile, dropdown repositioned\n- Compatible with Astro view transitions (listens to astro:page-load)\n\nDependencies:\n- Requires constants.ts (developer-al1)\n- Requires [...slug].md.ts endpoint (developer-xaj)","status":"tombstone","priority":1,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:27:45.620088467Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T11:54:30.195573800Z","source_repo":".","deleted_at":"2026-02-18T11:54:30.195573800Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task","compaction_level":0}
{"id":"developer-eeb","title":"Migrate astro-vtbot v1 → v2","description":"## What\n\nMigrate astro-vtbot from v1 (^1.8.2) to v2 (^2.1.10). This is a **major version bump** with specific migration steps.\n\n## Breaking Changes in v2\n\n1. **Dependency type change**: vtbot moves from `dependencies` to `devDependencies`. In v2, vtbot is a build-time-only tool — it doesn't need to be bundled in production. This reduces the production bundle size.\n\n2. **Default options reversed**:\n   - v1: `autoLint: true`, `loadingIndicator: true` (auto-injected)\n   - v2: `autoLint: false`, `loadingIndicator: false` (must be explicit)\n   - **Impact for us**: Our Head.astro already explicitly imports and renders LoadingIndicator, so this default change doesn't affect us. The component is included because we put it in our template, not because vtbot auto-injects it.\n\n3. **Integration removal optional**: The about repo removed `import vtbot` and `vtbot()` from astro.config.mjs entirely. For basic Starlight usage, the integration is no longer needed — the components work standalone. However, keeping the integration is also fine (it still works in v2).\n\n## How the About Repo Handled It\n\nCommit ce04b8d4: Moved vtbot to devDependencies, updated version, removed from astro.config.mjs integrations. No changes needed to Head.astro — the component imports (`VtbotStarlight`, `LoadingIndicator`) remain identical.\n\n## Implementation Steps\n\n1. In package.json:\n   - Remove `astro-vtbot` from `dependencies`\n   - Add `astro-vtbot: \"^2.1.10\"` to `devDependencies`\n\n2. In astro.config.mjs:\n   - Remove `import vtbot from \"astro-vtbot\"` (line 9)\n   - Remove `vtbot()` from the integrations array\n   - This is the approach the about repo uses\n\n3. In src/components/starlight/Head.astro:\n   - **No changes needed** — the imports still work:\n     - `import VtbotStarlight from \"astro-vtbot/components/starlight/Base.astro\"`\n     - `import LoadingIndicator from \"astro-vtbot/components/LoadingIndicator.astro\"`\n\n## Why Not Keep the Integration?\n\nThe vtbot() integration in v2 only provides:\n- Dev toolbar inspection chamber\n- Optional auto-lint\n- Optional auto-injection of LoadingIndicator\n\nSince we manually include LoadingIndicator and don't rely on auto-lint, removing the integration simplifies our config and matches the about repo's approach. The dev toolbar is minor and not used.\n\n## Risk\n\nMEDIUM — Major version bump, but our investigation confirmed all component APIs are unchanged. The about repo has been running v2 since January 2026. The key risk is forgetting to move the package to devDependencies.\n\n## Files\n\n- package.json (move between dep sections + version bump)\n- astro.config.mjs (remove import + integration)\n- src/components/starlight/Head.astro (NO CHANGES — verify only)","status":"closed","priority":2,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:55:37.529538255Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T12:16:10.074585585Z","closed_at":"2026-02-18T12:16:10.074585585Z","close_reason":"Migrated astro-vtbot v1→v2: moved to devDependencies with ^2.1.10, removed vtbot integration from astro.config.mjs, Head.astro unchanged","source_repo":".","compaction_level":0,"dependencies":[{"issue_id":"developer-eeb","depends_on_id":"developer-8lb","type":"parent-child","created_at":"2026-02-18T11:58:47.566421117Z","created_by":"Joost van der Laan","metadata":"","thread_id":""}],"comments":[{"id":5,"issue_id":"developer-eeb","author":"Joost van der Laan","text":"## Cross-References\n- Parent epic: developer-8lb\n- Blocks: developer-34v (bun install verification)\n- About repo reference commit: ce04b8d4\n\n## Key Insight\nThe reason vtbot moves to devDependencies in v2 is that the Astro build system inlines the component code at build time. The vtbot package is only needed during the build process (to resolve the imports), not at runtime. This is a common pattern in Astro where component libraries are dev-only because Astro compiles everything to static/server output.\n\n## Verification After Implementation\nAfter this change, verify that `grep -r 'astro-vtbot' node_modules/.package-lock.json` still shows the package (it should — devDependencies are still installed by bun install, they're just not included in production Docker images if you use --production flag).","created_at":"2026-02-18T11:59:33Z"}]}
{"id":"developer-exi","title":"Create PageTitle.astro component with Copy Page dropdown","description":"## What\n\nCreate `src/components/starlight/PageTitle.astro` — a custom Starlight component override that replaces the default page title with an enhanced version featuring a 'Copy page' dropdown menu.\n\n## Feature Description\n\nThe dropdown appears next to every page's h1 title and offers two actions:\n\n1. **Copy page** — Fetches the page's raw markdown from the .md endpoint and copies it to the clipboard using the Clipboard API. Shows 'Copied!' feedback for 2 seconds. Useful for pasting docs into LLM prompts, issues, PRs, or sharing.\n\n2. **View as Markdown** — Opens the raw markdown in a new browser tab. Useful for reading the source, saving locally, or using with tools that consume plain text.\n\n## Why This Matters for a Developer Portal\n\nDevelopers are the primary audience for this site. They frequently:\n- Paste API documentation into ChatGPT/Claude to ask questions about it\n- Reference docs in GitHub issues and pull requests (markdown format is ideal)\n- Feed documentation to code generation tools\n- Share doc excerpts in Slack/Teams (markdown renders well in both)\n- Use docs as context for their own documentation\n\nThe 'Copy page' button eliminates the friction of manually selecting, copying, and cleaning up page content. The markdown format is already structured and LLM-ready.\n\n## Component Architecture\n\n```\nPageTitle.astro\n├── <div.page-title-wrapper>     (flex container: title + button)\n│   ├── <h1 id=PAGE_TITLE_ID>   (page title from Starlight route data)\n│   └── <div.copy-page-container> (dropdown positioning context)\n│       ├── <button.copy-page-button>  (trigger: icon + text + chevron)\n│       └── <div.dropdown-menu>        (hidden by default)\n│           ├── <button data-action='copy-markdown'>  (Copy page)\n│           └── <button data-action='view-markdown'>  (View as Markdown)\n├── <script>                      (client-side dropdown + clipboard logic)\n└── <style>                       (scoped CSS using Starlight variables)\n```\n\n## Key Implementation Details\n\n### Imports\n```typescript\nimport { PAGE_TITLE_ID } from '../constants.ts';\nconst title = Astro.locals.starlightRoute.entry.data.title;\n```\n\n### Client-Side Behavior\n- **Dropdown toggle**: Click button → show/hide menu, update aria-expanded\n- **Outside click close**: Document click listener closes dropdown\n- **Copy action**: Fetches `window.location.pathname.replace(/\\/$/, '') + '.md'`, writes to clipboard\n- **View action**: Opens the .md URL in \\_blank tab\n- **View transitions compatibility**: Listens to both DOMContentLoaded and astro:page-load (for Astro view transitions / vtbot navigation)\n- **Listener deduplication**: Clones button node to prevent duplicate listeners on re-navigation\n\n### Accessibility\n- button has aria-label, aria-expanded, aria-haspopup='menu'\n- dropdown has role='menu', aria-label\n- menu items have role='menuitem'\n- SVG icons have aria-hidden='true'\n- Keyboard-navigable (native button elements)\n\n### Styling\n- Uses Starlight CSS custom properties (--sl-color-*) for theme consistency\n- Respects dark mode automatically via Starlight variables\n- Responsive: on mobile (<768px), button text hides (icon only), dropdown repositions from right-aligned to left-aligned\n- Smooth transitions on hover (0.2s)\n- z-index: 100 for dropdown overlay\n\n### SVG Icons\nThree inline SVGs used (no external icon library dependency):\n1. Document icon (lines on page) — main button + copy action\n2. Eye icon (circle in oval) — view action\n3. Chevron down — dropdown indicator with hover animation\n\n## Reference\n\nPorted from: /home/joost/fuww/about/src/components/starlight/PageTitle.astro\nBug fix applied from: /home/joost/fuww/about commit 599e8cf7 (copy button visibility)\n\n## Files\n\n- src/components/starlight/PageTitle.astro (NEW)","status":"closed","priority":1,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:58:01.364450439Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T12:33:16.144775865Z","closed_at":"2026-02-18T12:33:16.144775865Z","close_reason":"Created PageTitle.astro with Copy Page dropdown, ported from about repo with all accessibility and responsive features","source_repo":".","compaction_level":0,"dependencies":[{"issue_id":"developer-exi","depends_on_id":"developer-8lb","type":"parent-child","created_at":"2026-02-18T11:58:53.889763629Z","created_by":"Joost van der Laan","metadata":"","thread_id":""},{"issue_id":"developer-exi","depends_on_id":"developer-9tb","type":"blocks","created_at":"2026-02-18T11:58:46.829773085Z","created_by":"Joost van der Laan","metadata":"","thread_id":""},{"issue_id":"developer-exi","depends_on_id":"developer-q74","type":"blocks","created_at":"2026-02-18T11:58:46.682515979Z","created_by":"Joost van der Laan","metadata":"","thread_id":""}],"comments":[{"id":8,"issue_id":"developer-exi","author":"Joost van der Laan","text":"## Cross-References\n- Parent epic: developer-8lb\n- Depends on: developer-q74 (constants.ts), developer-9tb (markdown endpoint)\n- Blocks: developer-ypr (config registration)\n\n## Design Decisions\n\n### Why inline SVGs instead of Lucide icons?\nThe about repo uses inline SVGs rather than importing from lucide-react because:\n1. Astro components (.astro) can render inline SVGs directly without React overhead\n2. Only 3 simple icons are needed (document, eye, chevron) — no need for a full icon library import\n3. Inline SVGs are smaller than component imports for small icon counts\n4. They render during SSR without hydration — no JavaScript needed for icons\n\n### Why clone the button to remove listeners?\nThe script uses `button.cloneNode(true)` + `replaceChild` to prevent duplicate event listeners. This is necessary because:\n1. Astro view transitions re-run page scripts on navigation\n2. The astro:page-load event fires on every navigation\n3. Without deduplication, each navigation would add ANOTHER click listener\n4. Cloning the node effectively removes all existing listeners before adding new ones\n\n### Accessibility Rationale\nThe ARIA implementation follows the WAI-ARIA Menu Button pattern:\n- Button: aria-haspopup='menu' (tells screen readers a menu will open)\n- Button: aria-expanded (dynamically updated to reflect menu state)\n- Menu: role='menu' (identifies the dropdown as a menu widget)\n- Items: role='menuitem' (identifies each option as a menu action)\nThis ensures screen reader users can discover and operate the dropdown.\n\n### Responsive Design Approach\nOn mobile (<768px):\n- The 'Copy page' text is hidden, leaving only the document icon\n- This keeps the button compact and doesn't compete with the page title for space\n- The dropdown menu shifts from right-aligned to left-aligned to stay on screen\n- The full dropdown text remains visible — only the trigger button is condensed","created_at":"2026-02-18T11:59:58Z"}]}
{"id":"developer-gb0","title":"Update all dependencies to latest versions","description":"Update all package.json dependencies to match the about repo's latest versions. Key updates include:\n- astro: ^5.15.1 → ^5.16.13\n- @astrojs/starlight: ^0.36.1 → ^0.37.3\n- @astrojs/check: ^0.9.5 → ^0.9.6\n- @astrojs/react: ^4.4.0 → ^4.4.2\n- @astrojs/node: ^9.5.0 → ^9.5.2\n- @fontsource-variable/inter: ^5.0.19 → ^5.2.8\n- @fontsource-variable/lora: ^5.0.18 → ^5.2.8\n- @fontsource/ibm-plex-mono: ^5.0.13 → ^5.2.7\n- @radix-ui/react-label: ^2.1.0 → ^2.1.8\n- @radix-ui/react-separator: ^1.1.0 → ^1.1.8\n- @radix-ui/react-slot: ^1.1.0 → ^1.2.4\n- lucide-react: ^0.548.0 → ^0.562.0\n- sharp: ^0.34.4 → ^0.34.5\n- tailwindcss: ^3.4.6 → ^3.4.19\n- tailwind-merge: ^2.5.2 → ^2.6.0\n- starlight-llms-txt: ^0.2.0 → ^0.6.1\n- starlight-theme-next: ^0.3.2 → ^0.3.3\n- astro-vtbot: ^1.8.2 → ^2.1.10 (major version bump, check for breaking changes)\n- class-variance-authority: ^0.7.0 → ^0.7.1\n- framer-motion: ^12.23.24 → latest\n- @playwright/test: ^1.56.1 → ^1.57.0\n- @tailwindcss/typography: ^0.5.13 → ^0.5.19\n\nAfter updating package.json, run bun install and verify the project builds with bun run build.","status":"tombstone","priority":2,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:27:20.824248962Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T11:54:29.788541762Z","source_repo":".","deleted_at":"2026-02-18T11:54:29.788541762Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task","compaction_level":0}
{"id":"developer-jgk","title":"Update UI library dependencies (Radix, Lucide, Tailwind, CVA)","description":"## What\n\nUpdate the UI component library dependencies to match the about repo:\n\n| Package | Current (developer) | Target (about) | Notes |\n|---------|-------------------|----------------|-------|\n| @radix-ui/react-label | ^2.1.0 | ^2.1.8 | Patch updates, bug fixes |\n| @radix-ui/react-separator | ^1.1.0 | ^1.1.8 | Patch updates, bug fixes |\n| @radix-ui/react-slot | ^1.1.0 | ^1.2.4 | Minor version, new features |\n| lucide-react | ^0.548.0 | ^0.562.0 | New icons available |\n| tailwindcss | ^3.4.6 | ^3.4.19 | Bug fixes, performance |\n| tailwind-merge | ^2.5.2 | ^2.6.0 | Minor version, improved merging |\n| class-variance-authority | ^0.7.0 | ^0.7.1 | Patch fix |\n| tailwindcss-animate | ^1.0.7 | ^1.0.7 | Already matched |\n\n## Why\n\nThese are the building blocks of our UI components (shadcn/ui pattern). Staying current on Radix ensures accessibility fixes and browser compatibility improvements are picked up. The Tailwind updates include CSS generation bug fixes. Lucide 0.562 adds new icons that may be useful for the copy-to-markdown feature (though we use inline SVGs there).\n\n## Context\n\nThe developer repo uses shadcn/ui patterns (see src/components/ui/). These packages are the runtime dependencies for those components:\n- button.tsx uses CVA + Radix Slot\n- label.tsx uses Radix Label\n- separator.tsx uses Radix Separator\n- All components use clsx + tailwind-merge via the cn() utility in src/lib/utils.ts\n\n## Implementation\n\nEdit package.json — update the version strings. No code changes needed; these are all backward-compatible updates.\n\n## Risk\n\nLOW — All patch/minor updates within the same major version. No API changes.\n\n## Files\n\n- package.json (dependencies section)","status":"closed","priority":3,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:56:08.627374774Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T12:21:26.520543978Z","closed_at":"2026-02-18T12:21:26.520543978Z","close_reason":"Updated all dependency versions to match about repo","source_repo":".","compaction_level":0,"dependencies":[{"issue_id":"developer-jgk","depends_on_id":"developer-8lb","type":"parent-child","created_at":"2026-02-18T11:58:52.909419433Z","created_by":"Joost van der Laan","metadata":"","thread_id":""}]}
{"id":"developer-ke1","title":"Update dev dependencies (Playwright, Tailwind Typography)","description":"## What\n\nUpdate development-only dependencies:\n\n| Package | Current (developer) | Target (about) | Notes |\n|---------|-------------------|----------------|-------|\n| @playwright/test | ^1.56.1 | ^1.57.0 | Minor: new APIs, browser updates |\n| @tailwindcss/typography | ^0.5.13 | ^0.5.19 | Patch: prose styling fixes |\n\n## Why\n\n**Playwright 1.57**: Includes updated Chromium, Firefox, and WebKit browser binaries. Staying current on Playwright ensures our E2E tests run against the same browser versions users actually have. Also includes new test APIs and improved trace viewer.\n\n**Tailwind Typography 0.5.19**: The typography plugin controls how prose content (our Markdown documentation) is styled. Patches fix edge cases in list rendering, code block styling, and table formatting within prose contexts.\n\n## Implementation\n\n1. Edit package.json devDependencies — update both version strings\n2. After bun install (in verification issue), run: bunx playwright install\n   - This downloads the new browser binaries that match Playwright 1.57\n   - Without this step, E2E tests will fail with a browser version mismatch error\n\n## Important Note\n\nPlaywright browser binaries are version-locked. When Playwright is updated, the matching browsers MUST be installed. This is handled in the verification issue but noted here for context.\n\n## Risk\n\nLOW — Playwright minor updates are backward-compatible. Typography plugin is purely CSS.\n\n## Files\n\n- package.json (devDependencies section)","status":"closed","priority":3,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:56:31.933092126Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T12:21:26.673981014Z","closed_at":"2026-02-18T12:21:26.673981014Z","close_reason":"Updated all dependency versions to match about repo","source_repo":".","compaction_level":0,"dependencies":[{"issue_id":"developer-ke1","depends_on_id":"developer-8lb","type":"parent-child","created_at":"2026-02-18T11:58:53.189724110Z","created_by":"Joost van der Laan","metadata":"","thread_id":""}]}
{"id":"developer-q74","title":"Create src/components/constants.ts shared constants file","description":"## What\n\nCreate a new file `src/components/constants.ts` that exports shared constants used by Starlight component overrides.\n\nInitial content:\n```typescript\n// N.B. THIS FILE IS IMPORTED IN BOTH SERVER- AND CLIENT-SIDE CODE.\n// THINK TWICE BEFORE ADDING STUFF AS IT WILL GET SHIPPED TO THE CLIENT.\n\nexport const PAGE_TITLE_ID = '_top';\n```\n\n## Why\n\nThe PAGE_TITLE_ID constant is used by the PageTitle component to set the id attribute on the h1 element. This id (`_top`) is a convention that:\n\n1. Enables 'back to top' links to scroll to the page title\n2. Is the standard anchor target for Starlight's table-of-contents '#' link\n3. Matches the id that Starlight's default PageTitle component uses\n\nHaving it as a constant (rather than a magic string) ensures consistency if other components need to reference the page title element (e.g., for scroll-to-top buttons, accessibility skip links, or programmatic focus management).\n\n## Design Decision: Why a Separate File?\n\nThe about repo places this in a standalone constants.ts rather than co-locating it in PageTitle.astro because:\n- The comment warns it's imported in both server and client contexts\n- Constants may be reused by future components (e.g., SkipLink.astro would reference PAGE_TITLE_ID)\n- Keeps the PageTitle component focused on rendering logic\n\n## Reference\n\nPorted from: /home/joost/fuww/about/src/components/constants.ts\n\n## Files\n\n- src/components/constants.ts (NEW)","status":"closed","priority":3,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:57:13.259932270Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T12:32:01.039673975Z","closed_at":"2026-02-18T12:32:01.039673975Z","close_reason":"Created src/components/constants.ts with PAGE_TITLE_ID constant, ported from about repo","source_repo":".","compaction_level":0,"dependencies":[{"issue_id":"developer-q74","depends_on_id":"developer-8lb","type":"parent-child","created_at":"2026-02-18T11:58:53.606618642Z","created_by":"Joost van der Laan","metadata":"","thread_id":""}]}
{"id":"developer-ruf","title":"Update font packages (@fontsource)","description":"## What\n\nUpdate all @fontsource packages to match the about repo:\n\n| Package | Current (developer) | Target (about) | Notes |\n|---------|-------------------|----------------|-------|\n| @fontsource-variable/inter | ^5.0.19 | ^5.2.8 | Variable font, multiple minors |\n| @fontsource-variable/lora | ^5.0.18 | ^5.2.8 | Variable font, multiple minors |\n| @fontsource/ibm-plex-mono | ^5.0.13 | ^5.2.7 | Static font, multiple minors |\n\n## Why\n\nFont packages are bumped regularly as foundries update font files (hinting improvements, character set expansions, weight refinements). The 5.0→5.2 jump includes updated font binaries with better rendering on certain platforms. These are purely asset packages with no API.\n\n## Context\n\nThese fonts are the design system foundation for all FashionUnited Starlight sites:\n- **Inter Variable**: Primary sans-serif for body text and UI\n- **Lora Variable**: Serif font for accents and headings\n- **IBM Plex Mono**: Monospace for code blocks and technical content\n\nThey're imported in the Tailwind config (tailwind.config.mjs) as the fontFamily defaults.\n\n## Implementation\n\nEdit package.json — update the three version strings. No code changes needed.\n\n## Risk\n\nVERY LOW — Font packages are pure assets. Worst case: slight visual rendering differences (subpixel-level).\n\n## Files\n\n- package.json (dependencies section)","status":"closed","priority":3,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:56:19.832885809Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T12:21:26.593346923Z","closed_at":"2026-02-18T12:21:26.593346923Z","close_reason":"Updated all dependency versions to match about repo","source_repo":".","compaction_level":0,"dependencies":[{"issue_id":"developer-ruf","depends_on_id":"developer-8lb","type":"parent-child","created_at":"2026-02-18T11:58:53.050776188Z","created_by":"Joost van der Laan","metadata":"","thread_id":""}]}
{"id":"developer-t0y","title":"Update Astro core ecosystem packages","description":"## What\n\nUpdate the core Astro framework packages in package.json to match the about repo's versions:\n\n| Package | Current (developer) | Target (about) | Change Type |\n|---------|-------------------|----------------|-------------|\n| astro | ^5.15.1 | ^5.16.13 | Minor + patches |\n| @astrojs/starlight | ^0.36.1 | ^0.37.3 | Minor (see notes) |\n| @astrojs/check | ^0.9.5 | ^0.9.6 | Patch |\n| @astrojs/react | ^4.4.0 | ^4.4.2 | Patch |\n| @astrojs/node | ^9.5.0 | ^9.5.2 | Patch |\n| @astrojs/mdx | ^4.3.8 | (keep, dev-only has no update) | N/A |\n| @astrojs/tailwind | ^6.0.2 | ^6.0.2 | Already matched |\n| @astrojs/partytown | ^2.1.4 | ^2.1.4 | Already matched |\n\n## Why\n\nThe about repo upgraded all of these in commit a4299053 (Jan 23, 2026). These are the foundation that everything else is built on. Astro 5.16.x includes performance improvements and bug fixes. Starlight 0.37.x is a minor version bump but our investigation shows it's backward-compatible with all APIs we use.\n\n## Starlight 0.36 → 0.37 Analysis\n\nWe verified that the developer repo has NO dependencies on Starlight-specific runtime APIs that changed between 0.36 and 0.37. The only custom Starlight override is Head.astro, which uses vtbot components (not Starlight APIs). The new PageTitle.astro component we'll add (separate issue) uses `Astro.locals.starlightRoute.entry.data.title` which is stable across both versions.\n\nKey findings:\n- Component override mechanism unchanged\n- Content schema API (docsSchema()) unchanged\n- Configuration structure unchanged\n- All Starlight plugins (llms-txt, theme-next) compatible\n\n## How\n\n1. Edit package.json — update the version strings listed above\n2. Do NOT run bun install yet (that happens in the final verification issue after all version changes)\n\n## Risk\n\nLOW — These are all patch/minor updates. The about repo has been running these versions since January 2026 without issues.\n\n## Files\n\n- package.json (dependencies section)","status":"closed","priority":2,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:55:09.412320423Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T12:10:49.820368714Z","closed_at":"2026-02-18T12:10:49.820368714Z","close_reason":"Updated all 5 Astro core ecosystem packages in package.json: astro ^5.16.13, @astrojs/starlight ^0.37.3, @astrojs/check ^0.9.6, @astrojs/react ^4.4.2, @astrojs/node ^9.5.2","source_repo":".","compaction_level":0,"dependencies":[{"issue_id":"developer-t0y","depends_on_id":"developer-8lb","type":"parent-child","created_at":"2026-02-18T11:58:47.423690801Z","created_by":"Joost van der Laan","metadata":"","thread_id":""}],"comments":[{"id":4,"issue_id":"developer-t0y","author":"Joost van der Laan","text":"## Cross-References\n- Parent epic: developer-8lb\n- Blocks: developer-34v (bun install verification)\n- Parallel with: developer-eeb, developer-y3z, developer-jgk, developer-ruf, developer-ke1, developer-2ai\n- About repo reference commit: a4299053 (Jan 23, 2026)\n\n## Note on Astro 5.15→5.16\nAstro 5.16 includes improvements to the Content Layer API and better error messages. No breaking changes. The 12-patch gap means we're picking up accumulated bug fixes.","created_at":"2026-02-18T11:59:33Z"}]}
{"id":"developer-uik","title":"Extract shared Tailwind preset from developer and about repos","description":"## What\nExtract the shared Tailwind color palette, fonts, gradients, animations, and plugins into a reusable Tailwind preset exported from the plugin package.\n\n## Acceptance Criteria\n- [ ] `tailwind-preset.mjs` exports a Tailwind preset object\n- [ ] Includes blue accent palette (200-950), gray palette (50-900) — includes gray.50 from about\n- [ ] Includes font families: Inter Variable (sans), Lora Variable (serif), IBM Plex Mono (mono)\n- [ ] Includes custom gradient utilities (gradient-blue-light, gradient-blue, gradient-blue-hero, gradient-blue-dark, gradient-blue-sidebar)\n- [ ] Includes accordion animations (tailwindcss-animate)\n- [ ] Includes shadcn/ui color tokens (border, input, ring, etc.) as CSS variable references\n- [ ] Includes [data-theme=\"dark\"] dark mode selector (from about's config, missing in developer)\n- [ ] Consumer can import as: `presets: [fuThemePreset]`\n- [ ] Verified against both developer and about tailwind configs\n\n## Notes\n- Decision developer-21l (Tailwind 4 timing) affects preset format\n- Source: developer/tailwind.config.mjs and about/tailwind.config.mjs\n- gray.50 and [data-theme=\"dark\"] are taken from about's more complete config (folded from developer-302)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-26T19:34:45.430994355Z","created_by":"joost","updated_at":"2026-02-26T20:23:25.010554906Z","closed_at":"2026-02-26T20:23:25.010520765Z","close_reason":"Tailwind preset extracted to tailwind-preset.mjs with fuThemePreset export. Includes gray.50, data-theme dark mode selector, blue palette, gradients, fonts, shadcn tokens, accordion animations","source_repo":".","compaction_level":0,"original_size":0,"labels":["phase-1"],"dependencies":[{"issue_id":"developer-uik","depends_on_id":"developer-21l","type":"blocks","created_at":"2026-02-26T19:57:49.153121489Z","created_by":"joost"},{"issue_id":"developer-uik","depends_on_id":"developer-2y4","type":"blocks","created_at":"2026-02-26T19:57:47.911889852Z","created_by":"joost"},{"issue_id":"developer-uik","depends_on_id":"developer-3gr","type":"parent-child","created_at":"2026-02-26T20:03:19.904298037Z","created_by":"joost"}]}
{"id":"developer-xaj","title":"Add markdown API endpoint for raw page content","description":"Create src/pages/[...slug].md.ts - a dynamic API route that serves raw markdown content for any documentation page.\n\nPorted from the about repo (../about/src/pages/[...slug].md.ts).\n\nImplementation details:\n- Dynamic route matching [...slug].md pattern\n- prerender = false (SSR endpoint)\n- GET handler that looks up the docs collection entry by slug\n- Returns doc.body as plain text (Content-Type: text/plain; charset=utf-8)\n- Returns 404 if page not found\n- Includes getStaticPaths() for static generation fallback\n\nThis endpoint is required by the Copy Page dropdown component to fetch markdown content for clipboard copy and view-as-markdown features.","status":"tombstone","priority":2,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:27:34.304328509Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T11:54:30.057008292Z","source_repo":".","deleted_at":"2026-02-18T11:54:30.057008292Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task","compaction_level":0}
{"id":"developer-y3z","title":"Upgrade starlight-llms-txt 0.2 → 0.6 with rawContent option","description":"## What\n\nUpdate starlight-llms-txt from ^0.2.0 to ^0.6.1 and add the `rawContent: true` configuration option.\n\n## Why\n\nstarlight-llms-txt generates /llms.txt, /llms-full.txt, and /llms-small.txt endpoints that make the entire site's documentation accessible to LLMs in a structured format. This is complementary to the per-page copy-to-markdown feature — llms-txt handles site-level access, copy-to-markdown handles page-level access.\n\nVersion 0.6 adds:\n- `rawContent` option: Returns raw markdown instead of trying to render MDX/React components to HTML. This is CRITICAL for sites with React components in MDX — without it, llms-full.txt may fail or produce garbage when encountering JSX.\n- `promote`/`demote` options: Control page ordering in generated txt files\n- `pageSeparator` option: Custom separator between pages\n- `customSets` support: Generate subset txt files for specific doc sections\n\n## About Repo Experience\n\nThe about repo hit a bug where React components in MDX caused llms-full.txt rendering to fail. Commit 7be27ff3 (Feb 13, 2026) fixed this by adding `rawContent: true`. The developer repo also uses React components in MDX (the vortex component, shadcn/ui components), so we should proactively add this option.\n\n## Implementation Steps\n\n1. In package.json: Update `starlight-llms-txt` from `^0.2.0` to `^0.6.1`\n\n2. In astro.config.mjs: Change the plugin configuration from:\n```js\nplugins: [starlightLlmsTxt()],\n```\nto:\n```js\nplugins: [\n  starlightLlmsTxt({\n    rawContent: true,\n  }),\n],\n```\n\n## Backward Compatibility\n\nAll existing v0.2 routes (/llms.txt, /llms-full.txt, /llms-small.txt) continue to work. The `rawContent` option is additive — it changes the content format of llms-full.txt from rendered HTML to raw markdown, which is actually what LLMs prefer.\n\n## Risk\n\nLOW — Backward compatible. The about repo has been running 0.6.1 since February 2026.\n\n## Files\n\n- package.json (version bump)\n- astro.config.mjs (add rawContent option to starlightLlmsTxt plugin)","status":"closed","priority":2,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:55:53.596630781Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T12:18:26.217108115Z","closed_at":"2026-02-18T12:18:26.217108115Z","close_reason":"Upgraded starlight-llms-txt ^0.2.0→^0.6.1, added rawContent: true config option","source_repo":".","compaction_level":0,"dependencies":[{"issue_id":"developer-y3z","depends_on_id":"developer-8lb","type":"parent-child","created_at":"2026-02-18T11:58:52.775652543Z","created_by":"Joost van der Laan","metadata":"","thread_id":""}],"comments":[{"id":6,"issue_id":"developer-y3z","author":"Joost van der Laan","text":"## Cross-References\n- Parent epic: developer-8lb\n- Blocks: developer-34v (bun install verification)\n- About repo reference commits: 7be27ff3 (rawContent fix), e7369414 (content syndication)\n\n## LLM Content Strategy\nThis upgrade is part of a broader strategy to make FashionUnited documentation LLM-accessible at multiple levels:\n\n1. **Site level**: /llms.txt provides a structured index of all documentation (starlight-llms-txt plugin)\n2. **Full dump**: /llms-full.txt provides all docs in a single file (starlight-llms-txt with rawContent)\n3. **Page level**: Individual page copy-to-markdown (PageTitle dropdown — separate issues)\n4. **API level**: /[...slug].md endpoints for programmatic access (separate issue)\n\nThe rawContent: true option is essential because without it, React/MDX components in docs cause rendering failures in the llms-full.txt output.","created_at":"2026-02-18T11:59:33Z"}]}
{"id":"developer-ypr","title":"Register PageTitle component override in astro.config.mjs","description":"## What\n\nUpdate astro.config.mjs to tell Starlight to use our custom PageTitle component instead of its built-in default.\n\n## Implementation\n\nIn the `starlight()` configuration object, add `PageTitle` to the `components` map:\n\n```javascript\n// Before:\ncomponents: {\n  Head: './src/components/starlight/Head.astro',\n},\n\n// After:\ncomponents: {\n  Head: './src/components/starlight/Head.astro',\n  PageTitle: './src/components/starlight/PageTitle.astro',\n},\n```\n\n## How Starlight Component Overrides Work\n\nStarlight has a set of built-in components that render different parts of each documentation page (Head, PageTitle, Sidebar, Footer, etc.). By specifying a component path in the `components` config, Starlight renders YOUR component instead of its default.\n\nThe override is complete — Starlight passes all the same props and context (Astro.locals.starlightRoute) to custom components that it passes to its built-in ones. Our PageTitle.astro accesses the page title via `Astro.locals.starlightRoute.entry.data.title`.\n\n## Why This is a Separate Issue\n\nThis is the 'activation' step — without this config change, the PageTitle.astro file exists but is never rendered. Keeping it separate from the component creation makes it easy to:\n- Review the component independently of the config change\n- Quickly disable the feature by reverting just this config line\n- Debug issues by checking 'is the component registered?' vs 'is the component broken?'\n\n## Reference\n\nThe about repo registers this in the same way, along with several other overrides:\n```javascript\n// about repo astro.config.mjs\ncomponents: {\n  Head: './src/components/starlight/Head.astro',\n  SocialIcons: './src/components/NavLink.astro',\n  PageTitle: './src/components/starlight/PageTitle.astro',\n}\n```\n\n## Files\n\n- astro.config.mjs (modify components object)","status":"closed","priority":2,"issue_type":"task","owner":"j@jlnw.nl","created_at":"2026-02-18T11:58:15.260983396Z","created_by":"Joost van der Laan","updated_at":"2026-02-18T12:33:40.906701549Z","closed_at":"2026-02-18T12:33:40.906701549Z","close_reason":"Registered PageTitle component override in astro.config.mjs components map","source_repo":".","compaction_level":0,"dependencies":[{"issue_id":"developer-ypr","depends_on_id":"developer-8lb","type":"parent-child","created_at":"2026-02-18T11:58:54.026171992Z","created_by":"Joost van der Laan","metadata":"","thread_id":""},{"issue_id":"developer-ypr","depends_on_id":"developer-exi","type":"blocks","created_at":"2026-02-18T11:58:46.989464892Z","created_by":"Joost van der Laan","metadata":"","thread_id":""}],"comments":[{"id":9,"issue_id":"developer-ypr","author":"Joost van der Laan","text":"## Cross-References\n- Parent epic: developer-8lb\n- Depends on: developer-exi (PageTitle component)\n- Blocks: developer-dx8 (final verification)\n\n## Starlight Override System Context\nStarlight's component override system works by mapping component names to file paths in the config. The component names correspond to Starlight's internal rendering slots. Available override points include:\n\n- Head, PageTitle, Sidebar, TableOfContents, Footer, Hero, etc.\n\nCurrently, the developer repo only overrides Head (for vtbot view transitions). After this change, it will override both Head and PageTitle.\n\n## Rollback Strategy\nIf the copy-to-markdown feature causes issues in production:\n1. Remove the PageTitle line from astro.config.mjs components\n2. Rebuild and deploy\n3. Starlight reverts to its default PageTitle component\n4. The PageTitle.astro file and constants.ts can remain in the codebase (they're just unused)\n5. The .md endpoint also becomes unused but is harmless\n\nThis single-line config change is the on/off switch for the entire feature.","created_at":"2026-02-18T12:00:24Z"}]}
{"id":"developer-ze6","title":"Decide: Where plugin package repo lives (new repo vs org workspace dir)","description":"Open question from the plan: should the @fashionunited/starlight-plugin-theme package live in a new standalone repo, or as a packages/theme directory in the org workspace? New repo gives clean separation but more overhead. Workspace dir keeps everything colocated. This must be decided before scaffolding begins.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-26T19:57:31.679199359Z","created_by":"joost","updated_at":"2026-02-26T20:20:57.795160159Z","closed_at":"2026-02-26T20:20:57.795068612Z","close_reason":"Decision: New standalone repo at /home/joost/code/fuww/starlight-plugin-theme/. Both sites consume equally as npm dep. No circular deps. Clean separation.","source_repo":".","compaction_level":0,"original_size":0,"labels":["decision"],"dependencies":[{"issue_id":"developer-ze6","depends_on_id":"developer-3gr","type":"parent-child","created_at":"2026-02-26T20:03:19.370578949Z","created_by":"joost"}]}
